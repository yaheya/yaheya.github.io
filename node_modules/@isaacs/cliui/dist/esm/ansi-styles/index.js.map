{"version":3,"file":"index.js","sourceRoot":"","sources":["../../../src/ansi-styles/index.ts"],"names":[],"mappings":"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","sourcesContent":["const styles = {\n  modifier: {\n    reset: [0, 0],\n    // 21 isn't widely supported and 22 does the same thing\n    bold: [1, 22],\n    dim: [2, 22],\n    italic: [3, 23],\n    underline: [4, 24],\n    overline: [53, 55],\n    inverse: [7, 27],\n    hidden: [8, 28],\n    strikethrough: [9, 29],\n  },\n  color: {\n    black: [30, 39],\n    red: [31, 39],\n    green: [32, 39],\n    yellow: [33, 39],\n    blue: [34, 39],\n    magenta: [35, 39],\n    cyan: [36, 39],\n    white: [37, 39],\n\n    // Bright color\n    blackBright: [90, 39],\n    gray: [90, 39], // Alias of `blackBright`\n    grey: [90, 39], // Alias of `blackBright`\n    redBright: [91, 39],\n    greenBright: [92, 39],\n    yellowBright: [93, 39],\n    blueBright: [94, 39],\n    magentaBright: [95, 39],\n    cyanBright: [96, 39],\n    whiteBright: [97, 39],\n  },\n  bgColor: {\n    bgBlack: [40, 49],\n    bgRed: [41, 49],\n    bgGreen: [42, 49],\n    bgYellow: [43, 49],\n    bgBlue: [44, 49],\n    bgMagenta: [45, 49],\n    bgCyan: [46, 49],\n    bgWhite: [47, 49],\n\n    // Bright color\n    bgBlackBright: [100, 49],\n    bgGray: [100, 49], // Alias of `bgBlackBright`\n    bgGrey: [100, 49], // Alias of `bgBlackBright`\n    bgRedBright: [101, 49],\n    bgGreenBright: [102, 49],\n    bgYellowBright: [103, 49],\n    bgBlueBright: [104, 49],\n    bgMagentaBright: [105, 49],\n    bgCyanBright: [106, 49],\n    bgWhiteBright: [107, 49],\n  },\n} as const;\n\nexport const modifierNames = Object.keys(styles.modifier);\nexport const foregroundColorNames = Object.keys(styles.color);\nexport const backgroundColorNames = Object.keys(styles.bgColor);\nexport const colorNames = [...foregroundColorNames, ...backgroundColorNames];\n\ninterface AnsiStyles extends Record<string, unknown> {}\nclass AnsiStyles {}\n\nexport const codes = new Map<number, number>();\nconst ingest = (set: Record<string, readonly [number, number]>) =>\n  Object.fromEntries(\n    Object.entries(set).map(([key, [open, close]]) => {\n      codes.set(open, close);\n      return [\n        key,\n        (AnsiStyles.prototype[key] = {\n          open: `\\u001B[${open}m`,\n          close: `\\u001B[${close}m`,\n        }),\n      ];\n    }),\n  );\n\nexport const ansiStyles = new (class extends AnsiStyles {\n  codes = codes;\n\n  modifier = ingest(styles.modifier);\n\n  color = {\n    ...ingest(styles.color),\n    close: \"\\x1B[39m\",\n    ansi: (code: number) => `\\u001B[${code}m`,\n    ansi256: (code: number) => `\\u001B[${38};5;${code}m`,\n    ansi16m: (red: number, green: number, blue: number) =>\n      `\\u001B[${38};2;${red};${green};${blue}m`,\n  };\n\n  bgColor = {\n    ...ingest(styles.bgColor),\n    close: \"\\u001B[49m\",\n    ansi: (code: number) => `\\u001B[${code + 10}m`,\n    ansi256: (code: number) => `\\u001B[${48};5;${code}m`,\n    ansi16m: (red: number, green: number, blue: number) =>\n      `\\u001B[${48};2;${red};${green};${blue}m`,\n  };\n\n  rgbToAnsi256(red: number, green: number, blue: number) {\n    // We use the extended greyscale palette here, with the exception of\n    // black and white. normal palette only has 4 greyscale shades.\n    if (red === green && green === blue) {\n      if (red < 8) return 16;\n      if (red > 248) return 231;\n      return Math.round(((red - 8) / 247) * 24) + 232;\n    }\n\n    return (\n      16 +\n      36 * Math.round((red / 255) * 5) +\n      6 * Math.round((green / 255) * 5) +\n      Math.round((blue / 255) * 5)\n    );\n  }\n\n  hexToRgb(hex: number): [number, number, number] {\n    const matches = /[a-f\\d]{6}|[a-f\\d]{3}/i.exec(hex.toString(16));\n    if (!matches) {\n      return [0, 0, 0];\n    }\n\n    let [colorString] = matches;\n\n    if (colorString.length === 3) {\n      colorString = [...colorString]\n        .map((character) => character + character)\n        .join(\"\");\n    }\n\n    const integer = Number.parseInt(colorString, 16);\n\n    return [\n      (integer >> 16) & 0xff,\n      (integer >> 8) & 0xff,\n      integer & 0xff,\n    ];\n  }\n\n  hexToAnsi256(hex: number) {\n    return this.rgbToAnsi256(...this.hexToRgb(hex));\n  }\n  ansi256ToAnsi(code: number) {\n    if (code < 8) {\n      return 30 + code;\n    }\n\n    if (code < 16) {\n      return 90 + (code - 8);\n    }\n\n    let red;\n    let green;\n    let blue;\n\n    if (code >= 232) {\n      red = ((code - 232) * 10 + 8) / 255;\n      green = red;\n      blue = red;\n    } else {\n      code -= 16;\n\n      const remainder = code % 36;\n\n      red = Math.floor(code / 36) / 5;\n      green = Math.floor(remainder / 6) / 5;\n      blue = (remainder % 6) / 5;\n    }\n\n    const value = Math.max(red, green, blue) * 2;\n\n    if (value === 0) {\n      return 30;\n    }\n\n    let result =\n      30 +\n      ((Math.round(blue) << 2) | (Math.round(green) << 1) | Math.round(red));\n\n    if (value === 2) {\n      result += 60;\n    }\n\n    return result;\n  }\n  rgbToAnsi(red: number, green: number, blue: number) {\n    return this.ansi256ToAnsi(this.rgbToAnsi256(red, green, blue));\n  }\n  hexToAnsi(hex: number) {\n    return this.ansi256ToAnsi(this.hexToAnsi256(hex));\n  }\n})();\n"]}