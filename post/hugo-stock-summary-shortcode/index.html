<!doctype html><head></head><html lang><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><title>Hugo Stock Summary ShortCode Module | Pulse</title>
<meta name=description content="Hugo Stock Summary ShortCode Module"><meta property="og:site_name" content="Hugo Stock Summary ShortCode Module"><meta property="og:title" content="Pulse"><meta property="og:description" content="If you are a regular visitor of my site, you may have noticed, I have started posting daily closing bell stock market summary. These pages proceeds with a Market index summary from that day. Let&amp;rsquo;s discuss how I put it together.
What is a Hugo ShortCode?
Shortcodes are simple snippets inside your content files calling built-in or custom templates.
Parts of the Stock Summary ShortCode
A JSON Payload for each day to summarize the data."><meta property="og:image" content="img/yaheya-quazi2.png"><meta name=keywords content><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css integrity=sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js integrity=sha384-g7c+Jr9ZivxKLnZTDUhnkOnsh30B4H0rpLUpJ4jAIKs4fnJI+sEnkvrMWph2EDg4 crossorigin=anonymous></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/contrib/auto-render.min.js integrity=sha384-mll67QQFJfxn0IYznZYonOWZ644AWYC+Pt2cHqMaRhXVrursRwvLnLaebdGIlYNa crossorigin=anonymous onload=renderMathInElement(document.body)></script><meta name=keywords content="fast,hugo,theme,minimal,gruvbox"><link rel=icon type=image/svg href=img/logo.png><meta name=author content="Yaheya_Quazi"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.121.2"><link rel=stylesheet href=/sass/main.min.0103b916c8afc6b480a6b2face32a8f3b6eeb527beba6806978463204a758917.css type=text/css media=screen><link rel=stylesheet href=/layouts/css/style.css></head><body><div class=line id=scrollIndicator></div><div class=main><div class=container><div class="row align-items-start"><div class=col><a href=http://www.yaheya.com><img src=/img/new-pulse-logo.png class=responsive-image style=max-width:60%;height:auto></a></div><div class=col><div class=nav><a href=/yaheya/>About</a><a href=/tags/>Categories</a><a href=/post/>Posts</a></div></div><div class=col><div class=col style=text-align:right><div class=color-scheme><input type=checkbox class=checkbox id=chk>
<label class=label for=chk><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="moon" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentcolor" d="M283.211 512c78.962.0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954.0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156.0 00283.211.0c-141.309.0-256 114.511-256 256 0 141.309 114.511 256 256 256z"/></svg><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="sun" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentcolor" d="M256 160c-52.9.0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6.0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0s-49.9-131.1.0-181 131.1-49.9 181 0 49.9 131.1.0 181z"/></svg><div class=ball></div></label></div></div></div></div></div><script>const themeSetter=e=>{document.body.classList.toggle("dark"),localStorage.setItem("theme",e),blockSwitcher()},blockSwitcher=()=>[...document.getElementsByTagName("BLOCKQUOTE")].forEach(e=>e.classList.toggle("dark")),styleSwapper=()=>{document.body.classList.add("back-transition"),localStorage.getItem("theme")==="dark"?themeSetter("light"):localStorage.getItem("theme")==="light"&&themeSetter("dark")};localStorage.getItem("theme")==="dark"?(themeSetter("dark"),document.addEventListener("DOMContentLoaded",blockSwitcher)):localStorage.setItem("theme","light"),document.getElementById("chk").addEventListener("change",styleSwapper),window.addEventListener("scroll",()=>{let e=document.documentElement.scrollHeight-document.documentElement.clientHeight;if(e>=500){let t=document.body.scrollTop||document.documentElement.scrollTop,n=t/e*100;document.getElementById("scrollIndicator").style.width=n+"%"}})</script><section class=intro><div class=post-header><a class=go-back href=/post/><svg aria-hidden="true" focusable="false" data-prefix="far" class="back-icon" data-icon="caret-square-left" height="25" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentcolor" d="M272 157.1v197.8c0 10.7-13 16.1-20.5 8.5l-98.3-98.9c-4.7-4.7-4.7-12.2.0-16.9l98.3-98.9c7.5-7.7 20.5-2.3 20.5 8.4zM448 80v352c0 26.5-21.5 48-48 48H48c-26.5.0-48-21.5-48-48V80c0-26.5 21.5-48 48-48h352c26.5.0 48 21.5 48 48zm-48 346V86c0-3.3-2.7-6-6-6H54c-3.3.0-6 2.7-6 6v340c0 3.3 2.7 6 6 6h340c3.3.0 6-2.7 6-6z"/></svg></a><h2 class=post-title>Hugo Stock Summary ShortCode Module</h2></div><p class=post-dets>Published on: June 29, 2022
| Reading Time: 2 min | Last Modified: June 29, 2022</p><span class=tags><h5><a class=tag href=/tags/technology>technology</a></h5><h5><a class=tag href=/tags/hugo>hugo</a></h5><h5><a class=tag href=/tags/shortcode>shortcode</a></h5></span><div class=content><p>If you are a regular visitor of my site, you may have noticed, I have started posting daily closing bell stock market <a href=../closing-bell-06282022>summary</a>. These pages proceeds with a Market index summary from that day. Let&rsquo;s discuss how I put it together.</p><p><strong>What is a Hugo ShortCode?</strong></p><p>Shortcodes are simple snippets inside your content files calling built-in or custom templates.</p><p><strong>Parts of the Stock Summary ShortCode</strong></p><ol><li>A JSON Payload for each day to summarize the data.</li><li>ShortCode HTML</li><li>Insertion of the ShortCode into any Mark Down file.</li></ol><p>Below is a sample JSON Payload that the Short Code uses -</p><pre tabindex=0><code>{
&#34;Index1&#34;: {
&#34;name&#34;: &#34;Dow&#34;,
&#34;value&#34;: &#34;30946.99&#34;,
&#34;change&#34;: &#34;-491.27&#34;,
&#34;percentage&#34;: &#34;-1.56&#34;
},
&#34;Index2&#34;: {
&#34;name&#34;: &#34;S&amp;P 500&#34;,
&#34;value&#34;: &#34;3821.55&#34;,
&#34;change&#34;: &#34;-78.56&#34;,
&#34;percentage&#34;: &#34;-2.01&#34;
},
&#34;Index3&#34;: {
&#34;name&#34;: &#34;Nasdaq&#34;,
&#34;value&#34;: &#34;11181.54&#34;,
&#34;change&#34;: &#34;-343.01&#34;,
&#34;percentage&#34;: &#34;-2.98&#34;
},
&#34;Index4&#34;: {
&#34;name&#34;: &#34;Russel 2K&#34;,
&#34;value&#34;: &#34;1738.84&#34;,
&#34;change&#34;: &#34;-32.90&#34;,
&#34;percentage&#34;: &#34;-1.86&#34;
},
&#34;Index5&#34;: {
&#34;name&#34;: &#34;VIX&#34;,
&#34;value&#34;: &#34;28.36&#34;,
&#34;change&#34;: &#34;1.41&#34;,
&#34;percentage&#34;: &#34;5.23&#34;
}

}
</code></pre><p>Copy the above payload and call it stocks06282022.json. Place this file under your <strong>Data</strong> folder in Hugo project.</p><p>Create a file called stocks.html and place the following html in it. Save the file under your
<strong>layout\shortcodes</strong> folder</p><pre tabindex=0><code>&lt;h3&gt;Market Summary&lt;/h3&gt;
&lt;table class=&#34;table table-dark&#34;&gt;
    &lt;thead&gt;
         &lt;tr&gt;
        &lt;th scope=&#34;col&#34;&gt;Index&lt;/th&gt;
        &lt;th scope=&#34;col&#34;&gt;Value&lt;/th&gt;
        &lt;th scope=&#34;col&#34;&gt;Change&lt;/th&gt;
        &lt;th scope=&#34;col&#34;&gt;Percentage&lt;/th&gt;
      &lt;/tr&gt;
    &lt;/thead&gt;
    &lt;tbody&gt;
      {{ $filename := .Get &#34;file&#34; }}
      {{ range index .Site.Data $filename }}
      &lt;tr&gt;
        &lt;td&gt;{{.name}}&lt;/td&gt;
        &lt;td&gt;{{lang.NumFmt 2 .value}}&lt;/td&gt;
        &lt;td&gt;{{lang.NumFmt 2 .change}}&lt;/td&gt;
        &lt;td&gt;{{lang.NumFmt 2 .percentage}}&lt;/td&gt;
      &lt;/tr&gt;
      {{end}}
     &lt;/tbody&gt;
  &lt;/table&gt;
</code></pre><p><strong>Note</strong> I am using bootstrap 4.1 to stylize my table, you can do the same or style it the way you see fit.</p><p>Ok we are now ready to use the ShortCode! Add the following markup where ever you want to display the stock market summary based on your JSON payload.</p><p>&ldquo;{ { &lt; stocks file=&ldquo;stocks06282022&rdquo; >} }&rdquo;</p><p><strong>Note</strong> the parameter the markdown file is passing to the ShortCode module. It is the file name. The trick is every day, you update your JSON file to a new file (call it whatever makes sense to you) save it in the Data folder, and then you get your summary displayed!</p><p><strong>Stock Summary</strong> JSON payload can be accessed by this service. I am using it in my project.</p><p><a href="http://api.marketstack.com/v1/exchanges?access_key=your-key&amp;limit=3&amp;offset=0">http://api.marketstack.com/v1/exchanges?access_key=your-key&amp;limit=3&amp;offset=0</a></p><p>I hope this post was useful!</p><p><strong>Repository</strong></p><p>My entire site is available to <a href=https://github.com/yaheya/pulse>public</a>.</p><div id=disqus_thread></div><script type=text/javascript>(function(){if(window.location.hostname=="localhost")return;var t,e=document.createElement("script");e.type="text/javascript",e.async=!0,t="yaheya",e.src="//"+t+".disqus.com/embed.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(e)})()</script><noscript>Please enable JavaScript to view the <a href=http://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=http://disqus.com/ class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div></section><footer id=footer><strong></strong><div class=social>&nbsp; <a href=/contact/ target=_blank rel=noopener title=Email><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1.0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1.0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg></a>&nbsp;&nbsp; <a href=https://twitter.com/yaheya target=_blank rel=noopener title=Twitter><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M23 3a10.9 10.9.0 01-3.14 1.53 4.48 4.48.0 00-7.86 3v1A10.66 10.66.0 013 4s-4 9 5 13a11.64 11.64.0 01-7 2c9 5 20 0 20-11.5a4.5 4.5.0 00-.08-.83A7.72 7.72.0 0023 3z"/></svg></a>&nbsp;&nbsp; <a href=https://github.com/yaheya target=_blank rel=noopener title=Github><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg></a>&nbsp;&nbsp; <a href=https://www.linkedin.com/in/yaheya/ target=_blank rel=noopener title=Linkedin><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 8a6 6 0 016 6v7h-4v-7a2 2 0 00-2-2 2 2 0 00-2 2v7h-4v-7a6 6 0 016-6z"/><rect x="2" y="9" width="4" height="12"/><circle cx="4" cy="4" r="2"/></svg></a>&nbsp;&nbsp; <a href="https://www.youtube.com/@igluonvinyls?sub_confirmation=1" target=_blank rel=noopener title=Youtube><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22.54 6.42a2.78 2.78.0 00-1.94-2C18.88 4 12 4 12 4s-6.88.0-8.6.46a2.78 2.78.0 00-1.94 2A29 29 0 001 11.75a29 29 0 00.46 5.33A2.78 2.78.0 003.4 19c1.72.46 8.6.46 8.6.46s6.88.0 8.6-.46a2.78 2.78.0 001.94-2 29 29 0 00.46-5.25 29 29 0 00-.46-5.33z"/><polygon points="9.75 15.02 15.5 11.75 9.75 8.48 9.75 15.02"/></svg></a>&nbsp;</div><strong></strong><p style=color:grey>© 2024 Yaheya Quazi <a href=https://creativecommons.org/licenses/by/4.0/>Some rights reserved</a>. Last Updated : June 29, 2022</p></footer></div></body></html>